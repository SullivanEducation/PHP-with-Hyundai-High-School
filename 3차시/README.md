# 현대고 학생들과 함께하는 PHP 수업 3차시

###어떤 것들이 있어야 할까? - 2 (제어문) + 번외

### ***아직 작성중인 자료입니다!***

## 개요

수업자료는 [Slide Share](http://www.slideshare.net/JeongUkJae/php-3-56940442)에 업로드 되어져 있습니다.

3차시에서는 제어문에 대한 설명과 실습. 그리고 PHP 에 대한 실제 설정을 주로 해볼 예정입니다.

## + 추가1 PHP Windows 중 Non Thread Safe 와 Thread Safe 버전 차이점

 먼저, Thread Safe 버전은 Apache 모듈이고, Non Thread Safe 버전은 php 독립모듈으로 생각하시면 편합니다. 
 
 자세히 설명을 하기 위해서 윈도우에 대한 설명부터 들어가보면 윈도우는 멀티쓰레드방식입니다. (그에 반해 유닉스/리눅스는 태스크개념을 채택하고 있죠.) 반면, PHP는 멀티 프로세스 방식입니다. 유닉스/리눅스 계열에 적합하죠. 그래서 그런 PHP 를 윈도우로 포팅하는 과정에서 멀티 쓰레드 방식으로 개발을 했는데, PHP 모듈들은 멀티 프로세스 방식입니다. 그래서 자주 다운되는 현상들이 일어났고, 안정적으로 사용하기 위해서 퍼포먼스를 일정 부분 포기하더라도 Thread Safe 한 버전을 만들어내게 되었습니다. 그래서 안정적이나, 약간 퍼포먼스가 너무 떨어집니다. 

 그리고 멀티쓰레드 방식으로 개발하면서 하나 더 문제인 것은 PHP 는 서드파티 프로그램이라는 것입니다. 문제는 "다운이 되면 다운이 덜 되게 하면 되는데, 왜 Thread Safe 하게 만들었냐." 라는 건데, 왜냐면 PHP 는 서드파티라서 안정성이 핵심입니다. 특정 프레임워크 위에서 돌아가는 서드파티 라이브러리라서, 완전히 나뉘어진 쓰레드로 실행이 되어야 안정적이게 되는데, 그게 Thread Safe 방식입니다.

 근데 퍼포먼스 문제가 너무 부각되고, 꼭 특정 프레임워크 위에서 돌아갈 필요도 없어지고(로컬에서 tcp 통신으로 모듈을 돌림) 그래서 thread safe 방식에서 탈출하게 됩니다. 그게 non thread safe 방식이고 nginx 와 연동시킬 때 흔히들 사용하실 것입니다.

 요점정리를 하자면, 특정 프레임워크 위에서 서드파티로 돌아갈 필요가 있다면 Thread Safe, 로컬에서 자신의 메모리 위에서(php 만의) 돌아간다면 non thread safe 버전을 받으시면 됩니다.